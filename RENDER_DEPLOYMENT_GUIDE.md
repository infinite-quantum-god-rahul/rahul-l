# ğŸš€ Render.com Deployment Guide

## ğŸ“‹ Prerequisites

1. **GitHub Repository**: Your code should be in a GitHub repository
2. **Render.com Account**: Sign up at [render.com](https://render.com)
3. **Database**: Render.com will create a PostgreSQL database for you

## ğŸ”§ Deployment Steps

### 1. **Push Code to GitHub**
```bash
git add .
git commit -m "Prepare for Render deployment"
git push origin main
```

### 2. **Create Render.com Service**

1. **Go to Render Dashboard**: https://dashboard.render.com
2. **Click "New +"** â†’ **"Web Service"**
3. **Connect GitHub Repository**
4. **Configure Service**:
   - **Name**: `sml87-django-app`
   - **Environment**: `Python 3`
   - **Build Command**: `pip install -r requirements.txt && python manage.py collectstatic --noinput && python manage.py migrate`
   - **Start Command**: `gunicorn spoorthi_macs.wsgi:application`

### 3. **Environment Variables**

Add these environment variables in Render dashboard:

| Key | Value |
|-----|-------|
| `DEBUG` | `False` |
| `SECRET_KEY` | `[Generate a secure secret key]` |
| `DATABASE_URL` | `[Auto-generated by Render]` |
| `ALLOWED_HOSTS` | `sml87-django-app.onrender.com` |
| `STATIC_URL` | `/static/` |
| `STATIC_ROOT` | `staticfiles` |

### 4. **Database Setup**

1. **Create Database**: In Render dashboard, create a new PostgreSQL database
2. **Name**: `sml87-db`
3. **Plan**: Free tier
4. **Connection**: Render will automatically provide `DATABASE_URL`

### 5. **Deploy**

1. **Click "Create Web Service"**
2. **Wait for deployment** (5-10 minutes)
3. **Check logs** for any errors

## ğŸŒ Access Your Deployed App

- **URL**: `https://sml87-django-app.onrender.com`
- **Admin**: `https://sml87-django-app.onrender.com/admin/`
- **Login**: `admin` / `admin123` (created during build)

## ğŸ” Testing Your Deployed App

### 1. **Basic Functionality**
- âœ… Home page loads
- âœ… Login works
- âœ… Admin panel accessible
- âœ… Forms work correctly

### 2. **Edit Fields Test**
- âœ… Company edit shows mortgage field with existing value
- âœ… Mortgage edit shows amount fields with existing values
- âœ… Branch edit shows branch_manager field with existing value

### 3. **Form Functionality**
- âœ… Create new records
- âœ… Edit existing records
- âœ… Save changes
- âœ… Delete records

## ğŸ› ï¸ Troubleshooting

### Common Issues:

1. **Build Fails**:
   - Check `requirements.txt` has all dependencies
   - Verify Python version compatibility

2. **Database Errors**:
   - Ensure `DATABASE_URL` is set correctly
   - Check migrations run successfully

3. **Static Files Not Loading**:
   - Verify `STATIC_ROOT` and `STATIC_URL` settings
   - Check `collectstatic` command runs

4. **CSRF Errors**:
   - Add your domain to `CSRF_TRUSTED_ORIGINS`
   - Check `ALLOWED_HOSTS` includes your domain

## ğŸ“ Files Created for Deployment

- âœ… `requirements.txt` - Python dependencies
- âœ… `render.yaml` - Render configuration
- âœ… `Procfile` - Process configuration
- âœ… `build.sh` - Build script
- âœ… `spoorthi_macs/settings_production.py` - Production settings

## ğŸ¯ Expected Results

After deployment, your app should:
- âœ… Load at `https://sml87-django-app.onrender.com`
- âœ… Have all form functionality working
- âœ… Edit fields populated correctly
- âœ… Save/update operations working
- âœ… Admin panel accessible
- âœ… Static files loading properly

## ğŸ”— Useful Links

- **Render Dashboard**: https://dashboard.render.com
- **Your App**: `https://sml87-django-app.onrender.com`
- **Admin Panel**: `https://sml87-django-app.onrender.com/admin/`
- **Documentation**: https://render.com/docs
